/* ========== RESET + VARIABILI ========== */
* { box-sizing: border-box; }
:root{
  --bg-blur: rgba(0,0,0,.28);
  --card-bg: rgba(255,255,255,.80);
  --text-dim:#6b7280;
  --brand:#ff7a00;
}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:#111;
  background-size: cover;
  background-position: center;
}

/* ========== LAYER SFONDO ========== */
#bg-blur, #bg-main {
  position: fixed;
  inset: 0;
  background-position: center center;
  background-repeat: no-repeat;
  z-index: -2;
  pointer-events: none;
}
#bg-blur {
  z-index: -2;
  background-size: cover;
  filter: blur(22px) brightness(0.6);
  transform: scale(1.06);
}
#bg-main {
  z-index: -1;
  background-size: contain;
  transition: background-size 200ms ease;
}

/* Ombreggiatura testo quando lo sfondo è chiaro */
body.bg-light .hero h1,
body.bg-light .hero .count,
body.bg-light .footer { text-shadow: 0 1px 2px rgba(0,0,0,.6); }
body.bg-light .card-title { text-shadow: 0 1px 2px rgba(0,0,0,.4); }
body.bg-light .card-meta{
  text-shadow: 0 1px 2px rgba(0,0,0,.45);
}


/* ========== SPLASH (se presente in index) ========== */
.splash{
  position:fixed; inset:0; background:#000;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:10px; z-index:9999;
}
.splash-img{ max-width:min(420px, 80vw); height:auto; display:block; }
.hint{ color:#fff; opacity:.9; margin:0; }

/* ========== BOTTONI / INPUT ========== */
.btn{
  border:0; border-radius:10px; padding:8px 12px; cursor:pointer; font-weight:700;
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
}
.btn-primary{ background:var(--brand); color:#fff; }
.btn-ghost{ background:transparent; border:1px solid #fff; color:#fff; }
.input{
  padding:8px 10px; border:1px solid #e5e7eb; border-radius:10px;
  min-width: min(300px, 90vw); font-size:14px;
}

/* ========== HEADER / FILTRI ========== */
.hero{
  text-align:center; padding:14px 10px; color:#fff;
  background:var(--bg-blur); backdrop-filter: blur(4px);
}
.hero h1{ margin:0 0 6px; font-size:clamp(18px,3.2vw,26px); text-shadow:0 1px 2px rgba(0,0,0,.5); }
.count{ opacity:.95; margin-bottom:6px; }
.filters{ display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }

/* ========== LISTA / CARD COMPATTE ========== */
.cards{ max-width:860px; margin:12px auto; padding:0 10px; display:grid; gap:10px; }
.card{
  /* glass style */
  background: rgba(255,255,255,.22);           /* vetro leggero */
  border: 1px solid rgba(255,255,255,.28);      /* bordino chiaro */
  border-radius: 14px;
  backdrop-filter: saturate(180%) blur(16px);   /* effetto iOS */
  -webkit-backdrop-filter: saturate(180%) blur(16px); /* safari/iOS */
  box-shadow: 0 8px 26px rgba(0,0,0,.18);
  padding: 10px 12px;
}

.card-row{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.card-title{ font-size:15px; font-weight:800; margin:0 0 2px; letter-spacing:.2px; }
..card-meta{
  color:#1f2937;              /* prima era grigio chiaro: ora è più scuro */
  font-size:12.5px;
  line-height:1.25;
}

/* Badge “Anno” su due righe */
.year-badge{
  flex:0 0 auto; align-self:flex-start;
  background:#111; color:#fff; border-radius:10px;
  padding:4px 8px; text-align:center; min-width:52px;
  display:flex; flex-direction:column; gap:2px;
}
.year-badge .yb-label{
  font-size:10px; line-height:1; opacity:.85; letter-spacing:.2px;
  text-transform:uppercase;
}
.year-badge .yb-num{
  font-size:13px; line-height:1; font-weight:800;
}

/* Cover con blur-up */
.card-cover {
  width: 64px; height: 64px; border-radius: 8px; flex: 0 0 64px;
  background: #eee; object-fit: cover; box-shadow: 0 1px 4px rgba(0,0,0,.15);
  filter: blur(10px); opacity: .7;
  transition: filter .35s ease, opacity .35s ease;
}
.card-cover.is-ready { filter: blur(0); opacity: 1; }
.card-col { flex: 1 1 auto; min-width: 0; }

/* Bottoni azione */
.actions{ display:flex; gap:8px; margin-top:8px; }
.action{
  text-decoration:none; display:inline-block; padding:8px 10px; border-radius:10px; font-weight:800;
  border:2px solid var(--brand); color:var(--brand); background:#fff; font-size:13.5px;
  transition:.15s ease;
}
.action:hover{ background:var(--brand); color:#fff; }

/* FOOTER */
.footer{ text-align:center; color:#777; padding:22px 0 30px; }

/* === Animazione soft in ingresso === */
.card.reveal{
  opacity: 0;
  transform: translateY(12px) scale(.985);
  transition: opacity .5s ease, transform .5s ease;
  will-change: opacity, transform;
}
.card.reveal.in{
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Rispetto preferenze utente */
@media (prefers-reduced-motion: reduce){
  .card.reveal,
  .card.reveal.in{
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
}
